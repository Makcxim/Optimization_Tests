# Математическое доказательство 

Число **n** имеет 5 делителей, включая себя и 1.

Остается 3 делителя: 1, x, y, z, n  
Это означает, что n = x * z = y * y  
Значит, искомое число является полным квадратом.  
При этом по логике делителей, y делится нацело на x.  
Следовательно получаем следующий ряд делителей.  
1, y/t, y, y*t, n  
Причем число y/t обязано быть простым, иначе появятся еще делители.  


разложение n на простые множители выглядит следующим образом:   
$$n = p_1^{a_1} \times p_2^{a_2} \times ... \times p_k^{a_k}$$  
количество делителей считается следующим образом:   
$$D(n) = (a_1 + 1) \times (a_2 + 1) \times ... \times (a_k + 1)$$    
Известно, что $$D(n)=5$$  
Число 5 является простым и разделить его на другое число нацело нельзя,  
следовательно разложение выглядит следующим образом:  
$$D(n)=5=5 \times 1 \times 1 \times ... \times 1$$  
Следовательно: $$a_1 + 1 = 4 + 1 => a_1 = 4$$   
Следовательно: $$n = p_1 ^ 4$$ 
  
**Следовательно число n является 4 степенью простого числа**  

Его делители выглядят следующим образом:   
$$1, p, p^2, p^3, n$$  
Ряд подходящих чисел выглядит вот так:  
16, 81, 625, 2401, 14641...

# Доказательство того, что нужное число оканчивается на 1.

Доказать: число n всегда оканчивается на 1.  
(Не берем в расчет числа 2, 3, 5)  
Простое число кроме 2, 3, 5 может оканчиваться только на: 1, 3, 7, 9  
суть в том, что любое из чисел, оканчивающиеся на цифры: 1, 3, 7, 9   
в 4 степени будет оканчиваться на 1.  
$$11^4=14641 $$  
$$13^4=28561 $$  
$$17^4=83521 $$  
$$19^4=130321$$  
Поэтому любое простое число, кроме 2, 3, 5 в 4 степени - будет оканчиваться на 1.


# Доказательство делимости числа n-1 на 240.  

Доказать: число n-1 всегда делится на 240.  
240 = 16 * 5 * 3.  

Задача делится на 3 подзадачи, где нужно доказать, что n-1 делится:
1) на 5  
2) на 3  
3) на 16  

### Делимость на 5  

Число n обязано оканчиваться на 1, следовательно n-1 обязано оканчиваться на 0.  
Любое число, оканчивающиеся на цифру 0 - делится нацело на 5.  

**Следовательно число n-1 делится нацело на 5**  

### Делимость на 3  

число n является 4 степенью простого числа p  
**Пусть p имеет остаток от деления на 3 = 1.**   
тогда n = p * p * p * p  
а остатки от деления на 3 тоже умножаются  
n mod 3 = 1 * 1 * 1 * 1 = 1  

**Пусть p имеет остаток от деления на 3 = 2.**   
тогда n = p * p * p * p  
а остатки от деления на 3 тоже умножаются  
n mod 3 = 2 * 2 * 2 * 2 = 16 => 16 mod 3 = 1

**Следовательно, число n-1 делится нацело на 3**

### Делимость на 16

Число p является нечетным числом (четных простых кроме 2 не существует)  
p можно представить в виде (2k+1)  

```math
$$sqrt(n) = p^2 = (2k+1)^2 = 4k^2 + 4k + 1 = 4k(k+1) $$  
```
число $$k*(k+1)$$ - независимо от k будет всегда четным,  
значит, что оно делится на 2. представим это как число 2m.  
$$4 * 2m + 1 = 8m + 1$$  
Следовательно $$p^2$$ имеет остаток от деления на 8 = 1  
$$sqrt(n) mod 8 = 1 = p^2 mod 8$$  

$$p^4 = (8m+1)^2 = 64m^2 + 16m + 1 = 16m(4m+1) + 1$$  
m(4m+1) - какое то число, которое умножается на 16  
следовательно, число 16m(4m+1) всегда делится нацело на 16  
**следовательно число n-1 делится нацело на 16**

# Итог

Учитывая эти 3 доказательства  
можно с уверенностью утверждать:  

### Число n-1 делится нацело на 240

Это позволяет нам сильно оптимизировать наш алгоритм, уменьшив количество итераций.  

# Читерство    

Если необходимо написать самый быстрый алгоритм,  
то проще всего идти от обратного, находя все простые числа в диапазоне:  
от start^(1/4) - корня 4 степени start до end^(1/4) - корня 4 степени end  
после чего находить их 4 степени   

**Однако в этой задаче мы договорились не использовать такой алгоритм.**  
